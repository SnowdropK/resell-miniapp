{"version":3,"sources":["webpack:////Users/sky/jobWorkspace/free-transaction-miniapp/components/tki-qrcode/tki-qrcode.vue?7b16","webpack:////Users/sky/jobWorkspace/free-transaction-miniapp/components/tki-qrcode/tki-qrcode.vue?6463","webpack:////Users/sky/jobWorkspace/free-transaction-miniapp/components/tki-qrcode/tki-qrcode.vue?6796","webpack:////Users/sky/jobWorkspace/free-transaction-miniapp/components/tki-qrcode/tki-qrcode.vue?f298","uni-app:///components/tki-qrcode/tki-qrcode.vue","webpack:////Users/sky/jobWorkspace/free-transaction-miniapp/components/tki-qrcode/tki-qrcode.vue?947d","webpack:////Users/sky/jobWorkspace/free-transaction-miniapp/components/tki-qrcode/tki-qrcode.vue?1f31"],"names":["name","props","cid","type","default","size","unit","show","val","background","foreground","pdground","icon","iconSize","lv","onval","loadMake","usingComponents","showLoading","loadingText","data","result","methods","_makeCode","qrcode","context","canvasId","text","correctLevel","image","imageSize","cbResult","that","uni","title","duration","_clearCode","_saveCode","filePath","success","longpress","_result","_empty","rt","v","watch","setTimeout","computed","cpSize","mounted"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+I;AAC/I;AAC8D;AACL;AACa;;;AAGtE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,6GAAM;AACR,EAAE,sHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAyzB,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC0B70B;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AAAA,eACA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;IACAO;MACAR;MACAC;IACA;IACAQ;MACAT;MACAC;IACA;IACAS;MACAV;MACAC;IACA;IACAU;MACAX;MACAC;IACA;IACAW;MACAZ;MACAC;IACA;IACAY;MACAb;MACAC;IACA;IACAa;MACAd;MACAC;IACA;IACAc;MACAf;MACAC;IACA;IACAe;MACAhB;MACAC;IACA;EACA;EACAgB;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;QACAC;UACAC;UAAA;UACAC;UAAA;UACAT;UAAA;UACAC;UAAA;UACAC;UAAA;UACAQ;UAAA;UACAtB;UAAA;UACAI;UAAA;UACAC;UAAA;UACAC;UAAA;UACAiB;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;YACA;YACAC;UACA;QACA;MACA;QACAC;UACAC;UACAtB;UACAuB;QACA;MACA;IACA;IACAC;MACA;MACAZ;IACA;IACAa;MACA;MACA;QACAJ;UACAK;UACAC;YACAN;cACAC;cACAtB;cACAuB;YACA;UACA;QACA;MACA;IACA;IACAK;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACAC;MACA;QACAA;MACA;QACAA;MACA;QACA,yEACAA;MACA;QACA,IACAC,WACAA,oBACAA,eACAA,aACAA,WAEAD;MACA;QACAA;MACA;MACA;IACA;EACA;EACAE;IACAxC;MAAA;MACA;QACA;QACA;UACAyC;YACA;UACA;QACA;MACA;IACA;IACAtC;MAAA;MACA;QACA;UACAsC;YACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IAAA;IACA;MACA;QACAH;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9NA;AAAA;AAAA;AAAA;AAAgqC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACAprC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/tki-qrcode/tki-qrcode.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tki-qrcode.vue?vue&type=template&id=143ec824&xlang=wxml&minapp=mpvue&\"\nvar renderjs\nimport script from \"./tki-qrcode.vue?vue&type=script&lang=js&\"\nexport * from \"./tki-qrcode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tki-qrcode.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/tki-qrcode/tki-qrcode.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-qrcode.vue?vue&type=template&id=143ec824&xlang=wxml&minapp=mpvue&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-qrcode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-qrcode.vue?vue&type=script&lang=js&\"","<template xlang=\"wxml\" minapp=\"mpvue\">\r\n  <view class=\"tki-qrcode\" @longpress=\"longpress\">\r\n    <!-- #ifndef MP-ALIPAY -->\r\n    <canvas\r\n      class=\"tki-qrcode-canvas\"\r\n      :canvas-id=\"cid\"\r\n      :style=\"{ width: cpSize + 'px', height: cpSize + 'px' }\"\r\n    />\r\n    <!-- #endif -->\r\n    <!-- #ifdef MP-ALIPAY -->\r\n    <canvas\r\n      :id=\"cid\"\r\n      :width=\"cpSize\"\r\n      :height=\"cpSize\"\r\n      class=\"tki-qrcode-canvas\"\r\n    />\r\n    <!-- #endif -->\r\n    <image\r\n      v-show=\"show\"\r\n      :src=\"result\"\r\n      :style=\"{ width: cpSize + 'px', height: cpSize + 'px' }\"\r\n    />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport QRCode from \"./qrcode.js\";\r\nlet qrcode;\r\nexport default {\r\n  name: \"tki-qrcode\",\r\n  props: {\r\n    cid: {\r\n      type: String,\r\n      default: \"tki-qrcode-canvas\",\r\n    },\r\n    size: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n    unit: {\r\n      type: String,\r\n      default: \"upx\",\r\n    },\r\n    show: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    val: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    background: {\r\n      type: String,\r\n      default: \"#ffffff\",\r\n    },\r\n    foreground: {\r\n      type: String,\r\n      default: \"#000000\",\r\n    },\r\n    pdground: {\r\n      type: String,\r\n      default: \"#000000\",\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    iconSize: {\r\n      type: Number,\r\n      default: 40,\r\n    },\r\n    lv: {\r\n      type: Number,\r\n      default: 3,\r\n    },\r\n    onval: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    loadMake: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    usingComponents: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showLoading: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    loadingText: {\r\n      type: String,\r\n      default: \"二维码生成中\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      result: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    _makeCode() {\r\n      let that = this;\r\n      if (!this._empty(this.val)) {\r\n        qrcode = new QRCode({\r\n          context: that, // 上下文环境\r\n          canvasId: that.cid, // canvas-id\r\n          usingComponents: that.usingComponents, // 是否是自定义组件\r\n          showLoading: that.showLoading, // 是否显示loading\r\n          loadingText: that.loadingText, // loading文字\r\n          text: that.val, // 生成内容\r\n          size: that.cpSize, // 二维码大小\r\n          background: that.background, // 背景色\r\n          foreground: that.foreground, // 前景色\r\n          pdground: that.pdground, // 定位角点颜色\r\n          correctLevel: that.lv, // 容错级别\r\n          image: that.icon, // 二维码图标\r\n          imageSize: that.iconSize, // 二维码图标大小\r\n          cbResult: function (res) {\r\n            // 生成二维码的回调\r\n            that._result(res);\r\n          },\r\n        });\r\n      } else {\r\n        uni.showToast({\r\n          title: \"二维码内容不能为空\",\r\n          icon: \"none\",\r\n          duration: 2000,\r\n        });\r\n      }\r\n    },\r\n    _clearCode() {\r\n      this._result(\"\");\r\n      qrcode.clear();\r\n    },\r\n    _saveCode() {\r\n      let that = this;\r\n      if (this.result != \"\") {\r\n        uni.saveImageToPhotosAlbum({\r\n          filePath: that.result,\r\n          success: function () {\r\n            uni.showToast({\r\n              title: \"二维码保存成功\",\r\n              icon: \"success\",\r\n              duration: 2000,\r\n            });\r\n          },\r\n        });\r\n      }\r\n    },\r\n    longpress() {\r\n      this._saveCode();\r\n    },\r\n    _result(res) {\r\n      this.result = res;\r\n      this.$emit(\"result\", res);\r\n    },\r\n    _empty(v) {\r\n      let tp = typeof v,\r\n        rt = false;\r\n      if (tp == \"number\" && String(v) == \"\") {\r\n        rt = true;\r\n      } else if (tp == \"undefined\") {\r\n        rt = true;\r\n      } else if (tp == \"object\") {\r\n        if (JSON.stringify(v) == \"{}\" || JSON.stringify(v) == \"[]\" || v == null)\r\n          rt = true;\r\n      } else if (tp == \"string\") {\r\n        if (\r\n          v == \"\" ||\r\n          v == \"undefined\" ||\r\n          v == \"null\" ||\r\n          v == \"{}\" ||\r\n          v == \"[]\"\r\n        )\r\n          rt = true;\r\n      } else if (tp == \"function\") {\r\n        rt = false;\r\n      }\r\n      return rt;\r\n    },\r\n  },\r\n  watch: {\r\n    size: function (n, o) {\r\n      if (n != o && !this._empty(n)) {\r\n        this.cSize = n;\r\n        if (!this._empty(this.val)) {\r\n          setTimeout(() => {\r\n            this._makeCode();\r\n          }, 100);\r\n        }\r\n      }\r\n    },\r\n    val: function (n, o) {\r\n      if (this.onval) {\r\n        if (n != o && !this._empty(n)) {\r\n          setTimeout(() => {\r\n            this._makeCode();\r\n          }, 0);\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    cpSize() {\r\n      if (this.unit == \"upx\") {\r\n        return uni.upx2px(this.size);\r\n      } else {\r\n        return this.size;\r\n      }\r\n    },\r\n  },\r\n  mounted: function () {\r\n    if (this.loadMake) {\r\n      if (!this._empty(this.val)) {\r\n        setTimeout(() => {\r\n          this._makeCode();\r\n        }, 0);\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.tki-qrcode {\r\n  position: relative;\r\n}\r\n.tki-qrcode-canvas {\r\n  position: fixed;\r\n  top: -99999upx;\r\n  left: -99999upx;\r\n  z-index: -99999;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-qrcode.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tki-qrcode.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1684393509787\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}